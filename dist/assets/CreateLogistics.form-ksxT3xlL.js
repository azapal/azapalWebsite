import{r,o as B,c as a,n as U,l as V,e as p,u as h,i as f,b as s,j as C,g as L,y as S,z as i,A as d,F,k as l}from"./index-DTq0z6UM.js";import{_ as N}from"./success-DnTFUcrJ.js";import{S as j,n as w}from"./storeUtils-BBgzQjYe.js";import{g as T,a as A}from"./firebase-BP1qBO44.js";import{c as D}from"./businessRequest-1E3WS6yi.js";import{F as M}from"./FormLayout-DRp6FriA.js";import{a as O}from"./authenticationRequest-gtOJk9va.js";import{_ as R}from"./OtpValidation-uzaiQW1i.js";import{_ as z}from"./DashboardLayout-Bz6hHOll.js";import{C as E}from"./chevron-left-CMZ05kCD.js";import"./HeaderNav.vue_vue_type_script_setup_true_lang-C1TlxRfI.js";import"./createLucideIcon-BHDqzYJA.js";import"./menu-CBHz9SqF.js";import"./check-check-yH6gVVAh.js";const q={key:0,class:"bg-white w-full bg-opacity-50 flex items-start justify-center z-50 lg:p-4"},$={class:"bg-white rounded-2xl w-full max-h-[90vh] overflow-y-auto"},G={class:"px-6 pt-5 relative flex flex-col items-center gap-5"},H={class:"relative"},I={class:"mt-2"},P={class:"flex items-center gap-2"},W={for:"logoUpload",class:"cursor-pointer flex items-center justify-center p-4 mb-4 bg-gray-100 rounded-full hover:bg-gray-200"},J=["src"],K={key:1,class:"text-xs text-gray-500"},Q={class:"block mb-5 overflow-hidden rounded-md border border-gray-200 px-3 py-2 shadow-xs focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600"},X={class:"block mb-5 overflow-hidden rounded-md border border-gray-200 px-3 py-2 shadow-xs focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600"},Y={class:"block mb-5 overflow-hidden rounded-md border border-gray-200 px-3 py-2 shadow-xs focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600"},Z={class:"block mb-5 overflow-hidden rounded-md border border-gray-200 px-3 py-2 shadow-xs focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600"},ee={class:"block mb-5 overflow-hidden rounded-md border border-gray-200 px-3 py-2 shadow-xs focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600"},se={class:"block mb-5 overflow-hidden rounded-md border border-gray-200 px-3 py-2 shadow-xs focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600"},te={class:"mt-12"},oe={key:0,class:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"},ne={key:1,type:"submit",class:"w-full p-2 rounded-full bg-[#2563EB] cursor-pointer text-white"},ve={__name:"CreateLogistics.form",setup(re){T(A);const v=r(null),m=j,c=r(!1);m.get("auth","getCurrentUser"),r(!1);let y=m.get("auth","getShowOtpScreen");const t=r(D);r(O);const g=r(!1),b=r(""),x=r(null);function _(o){const e=o.target.files[0];e&&(b.value=URL.createObjectURL(e),x.value=e)}const k=async()=>{c.value=!0;const o=new FormData;o.append("business_logo",x.value),o.append("name",t.value.name),o.append("description",t.value.description),o.append("email",t.value.email),o.append("address",t.value.address),o.append("phone_number",t.value.phone_number),o.append("product_category","NA"),o.append("location","NA"),o.append("category","dispatch");try{const e=await m.dispatch("business","createBusiness",o);let u=e.data;c.value=!1,console.log(e),u.code==="00"?g.value=!0:w(u.message,"error")}catch(e){c.value=!1,w(e,"error"),console.log(e)}};return B(()=>{m.dispatch("auth","readUser")}),(o,e)=>{const u=C("router-link");return l(),a(F,null,[h(y)?(l(),U(R,{key:0,page:"business",data:{type:v.value}},null,8,["data"])):V("",!0),p(z,null,{content:f(()=>[p(M,null,{form:f(()=>[g.value?(l(),a("form",{key:1,onSubmit:S(k,["prevent"]),class:"w-full"},[s("div",H,[p(u,{to:"/business/logistics",class:"flex items-center gap-2 text-indigo-600 hover:text-indigo-800 mb-4"},{default:f(()=>[p(h(E)),e[9]||(e[9]=s("span",{class:"text-lg font-semibold"},"Back",-1))]),_:1}),e[16]||(e[16]=s("h1",{class:"text-2xl font-bold mb-2"},"Let's start simple",-1)),e[17]||(e[17]=s("span",{class:"text-md"},"Logistics partner helps in fulfilling logistics operation for azapal online vendors.",-1)),s("div",I,[s("div",P,[s("input",{type:"file",id:"logoUpload",class:"hidden",accept:"image/*",onChange:_},null,32),s("label",W,[b.value?(l(),a("img",{key:0,src:b.value,alt:"Logo",class:"w-10 h-10 rounded-full object-cover"},null,8,J)):(l(),a("span",K,"+ upload a business logo"))])]),s("label",Q,[e[10]||(e[10]=s("span",{class:"text-xs font-medium text-gray-700"},"Business name",-1)),i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.value.name=n),placeholder:"Enter Business name",class:"mt-1 w-full border-none bg-transparent p-0 focus:border-transparent focus:ring-0 focus:outline-hidden sm:text-sm"},null,512),[[d,t.value.name]])]),s("label",X,[e[11]||(e[11]=s("span",{class:"text-xs font-medium text-gray-700"},"Business description",-1)),i(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.description=n),placeholder:"Tell us what you sell or do",class:"mt-1 w-full border-none bg-transparent p-0 h-[100px] focus:border-transparent focus:ring-0 focus:outline-hidden sm:text-sm"},null,512),[[d,t.value.description]])]),s("label",Y,[e[12]||(e[12]=s("span",{class:"text-xs font-medium text-gray-700"},"Business email",-1)),i(s("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.email=n),type:"text",placeholder:"@yourbusiness.com",class:"mt-1 w-full border-none bg-transparent p-0 focus:border-transparent focus:ring-0 focus:outline-hidden sm:text-sm"},null,512),[[d,t.value.email]])]),s("label",Z,[e[13]||(e[13]=s("span",{class:"text-xs font-medium text-gray-700"},"Business address",-1)),i(s("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.address=n),type:"text",placeholder:"business address",class:"mt-1 w-full border-none bg-transparent p-0 focus:border-transparent focus:ring-0 focus:outline-hidden sm:text-sm"},null,512),[[d,t.value.address]])]),s("label",ee,[e[14]||(e[14]=s("span",{class:"text-xs font-medium text-gray-700"},"Business Phone",-1)),i(s("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.phone_number=n),type:"text",placeholder:"09039939453",class:"mt-1 w-full border-none bg-transparent p-0 focus:border-transparent focus:ring-0 focus:outline-hidden sm:text-sm"},null,512),[[d,t.value.phone_number]])]),s("label",se,[e[15]||(e[15]=s("span",{class:"text-xs font-medium text-gray-700"},"Business Website(optional)",-1)),i(s("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>t.value.website=n),type:"url",placeholder:"https://mywebsit.com",class:"mt-1 w-full border-none bg-transparent p-0 focus:border-transparent focus:ring-0 focus:outline-hidden sm:text-sm"},null,512),[[d,t.value.website]])]),s("div",te,[s("div",null,[c.value?(l(),a("div",oe)):(l(),a("button",ne,"Become a partner"))])])])])],32)):(l(),a("div",q,[s("div",$,[s("div",G,[e[7]||(e[7]=s("img",{src:N,class:"w-38",alt:"success-img"},null,-1)),e[8]||(e[8]=s("section",{class:"text-center"},[s("h2",{class:"text-2xl font-semibold text-gray-900"},"Hey!"),s("h3",{class:"text-xl font-semibold text-gray-900"},"That was a success.")],-1)),p(u,{to:"/business/logistics",class:"w-full underline rounded-[18px] p-3 text-center"},{default:f(()=>e[6]||(e[6]=[L("Go to business dashboard")])),_:1})])])]))]),_:1})]),_:1})],64)}}};export{ve as default};
